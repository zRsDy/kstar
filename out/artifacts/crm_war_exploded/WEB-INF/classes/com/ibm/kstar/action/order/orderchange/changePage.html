<#escape x as x?html>
    <@cui.body>
    <div class="col-xs-12">

        <@form.table id="orderChange"
        class="col-xs-12"
        title="${i18n.get('订单变更')}"
        url = "${ctx}/order/change/orderChangeList.html?orderId=${orderId}"
        rowNum = "10"
        shrinkToFit = "false"
        search = "false"
        colModel = "[
			 	{name : 'id', label:'id', width : 20, editable : false, hidden : true}, 
			 	{name : 'changeCode', label:'${i18n.get('变更编号')}', width : 150, editable : false}, 
			 	{name : 'businessEntityLable.name', label:'${i18n.get('业务实体')}', width : 250, sortable:false, editable:false, align:'center'}, 
			  	{name : 'orderTypeLable.name', label:'${i18n.get('订单类型')}', width : 150, sortable:false, editable:false, align:'center'},
			    {name : 'orderCode', label:'${i18n.get('订单编号')}', width : 150, editable : false}, 
			  	{name : 'eventStatusLable', label:'${i18n.get('变更状态')}', width : 100, editable:false, align:'center'}, 
			  	{name : 'version', label:'${i18n.get('变更版本')}', width : 100, editable:false, align:'center'},
			  	{name : 'orderDate',label:'${i18n.get('下单日期')}',hidden:false,width:150,sortable:true,align:'center' ,formatter:function(cellvalue, options){ return formatDate_date(cellvalue) } }, 
				{name : 'customerName', label:'${i18n.get('客户名称')}', width : 250, editable:false ,align:'center',sortable:true}, 
			  	{name : 'customerCode', label:'${i18n.get('客户编号')}', width : 150, editable:false, align:'center',sortable:true}, 
			  	{name : 'salesmanCenterLable', label:'${i18n.get('客户所属营销一级部门')}', width : 120, editable:false, align:'center',sortable:false}, 
			  	{name : 'salesmanDepLable', label:'${i18n.get('客户所属营销二级部门')}', width : 120, editable:false, align:'center',sortable:false}, 
			  	{name : 'salesmanName', label:'${i18n.get('销售人员')}', width : 100, editable:false, align:'center',sortable:true},
			  	{name : 'currency', label:'${i18n.get('币种')}', width : 100, editable:false, align:'center',sortable:true}, 
			  	{name : 'createdByName', label:'${i18n.get('订单创建人')}', width : 100, editable:false, align:'center',sortable:false}, 
			  	{name : 'amount', label:'${i18n.get('金额（元）')}', width : 150, sortable:false, editable:false, align:'center',sortable:true}, 
			  	{name : 'erpOrderCode', label:'${i18n.get('ERP订单号')}', width : 100, sortable:false, editable:false, align:'center',sortable:true},
			  	{name : 'sourceTypeLable.name', label:'${i18n.get('来源类型')}', width : 100, sortable:false, editable:false, align:'center',sortable:false}, 
			  	{name : 'sourceCode', label:'${i18n.get('我司合同编号')}', width : 200, sortable:false, editable:false, align:'center',sortable:true},
			  	{name : 'customerPo', label:'${i18n.get('客户合同编号')}', width : 150, sortable:false, editable:false, align:'center',sortable:true}
			]"
        ondblClickRow= "function(rowid){
			parent.dialog('${i18n.get('流程表单')}','${ctx}/order/change/edit.html?id='+selected_orderChange.id,window);
		}"
        buttons = "[
			  		{
			  			id:'viewForm',
			  			label : '${i18n.get('流程表单')}',
			  			icon : 'icon-trash',
						own : 'true',
			  			handler : function(e,rowData){
			  				if(!selected_orderChange){
								alert('${i18n.get('没有选中任何数据!')}');
								return;
							}
							javascript:parent.dialog('${i18n.get('流程表单')}', '${ctx}/order/change/edit.html?id='+selected_orderChange.id, window);
			  			}
			  		}
			]" >
        </@form.table>
        <br/>
    </div>
</@cui.body>
<script src="${ctx}/anne/js/util.js"></script>
</#escape>